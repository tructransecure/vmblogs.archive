!function(){"use strict";var n={classCallCheck:function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}};n.createClass=function(){function i(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,t){return n&&i(e.prototype,n),t&&i(e,t),e}}();var e,t,i,o,s,a,d,r={moving:!1,opened:!1},l={isUrl:function(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.?)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)},addPrefixes:function(e){this.addPrefix(e,"id"),this.addPrefix(e,"class"),e.removeAttr("style")},addPrefix:function(e,n){var t=e.attr(n);"string"==typeof t&&""!==t&&"sidr-inner"!==t&&e.attr(n,t.replace(/([A-Za-z0-9_.\-]+)/g,"sidr-"+n+"-$1"))},transitions:(o=(document.body||document.documentElement).style,s=!1,a="transition",a in o?s=!0:(e=["moz","webkit","o","ms"],i=t=void 0,a=a.charAt(0).toUpperCase()+a.substr(1),s=function(){for(i=0;i<e.length;i++)if((t=e[i])+a in o)return!0;return!1}(),a=s?"-"+t.toLowerCase()+"-"+a.toLowerCase():null),{supported:s,property:a})},u=jQuery,c="sidr-animating",h="open",p="close",f="webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",m=function(){function t(e){n.classCallCheck(this,t),this.name=e,this.item=u("#"+e),this.openClass="sidr"===e?"sidr-open":"sidr-open "+e+"-open",this.menuWidth=this.item.outerWidth(!0),this.speed=this.item.data("speed"),this.side=this.item.data("side"),this.displace=this.item.data("displace"),this.timing=this.item.data("timing"),this.method=this.item.data("method"),this.onOpenCallback=this.item.data("onOpen"),this.onCloseCallback=this.item.data("onClose"),this.onOpenEndCallback=this.item.data("onOpenEnd"),this.onCloseEndCallback=this.item.data("onCloseEnd"),this.body=u(this.item.data("body"))}return n.createClass(t,[{key:"getAnimation",value:function(e,n){var t={},i=this.side;return t[i]="open"===e&&"body"===n?this.menuWidth+"px":"close"===e&&"menu"===n?"-"+this.menuWidth+"px":0,t}},{key:"prepareBody",value:function(e){var n="open"===e?"hidden":"";if(this.body.is("body")){var t=u("html"),i=t.scrollTop();t.css("overflow-x",n).scrollTop(i)}}},{key:"openBody",value:function(){if(this.displace){var e=l.transitions,n=this.body;if(e.supported)n.css(e.property,this.side+" "+this.speed/1e3+"s "+this.timing).css(this.side,0).css({width:n.width(),position:"fixed"}),n.css(this.side,this.menuWidth+"px");else{var t=this.getAnimation(h,"body");n.css({width:n.width(),position:"absolute"}).animate(t,{queue:!1,duration:this.speed})}}}},{key:"onCloseBody",value:function(){var e=l.transitions,n={width:"",position:"",right:"",left:""};e.supported&&(n[e.property]=""),this.body.css(n).unbind(f)}},{key:"closeBody",value:function(){var e=this;if(this.displace)if(l.transitions.supported)this.body.css(this.side,0).one(f,function(){e.onCloseBody()});else{var n=this.getAnimation(p,"body");this.body.animate(n,{queue:!1,duration:this.speed,complete:function(){e.onCloseBody()}})}}},{key:"moveBody",value:function(e){e===h?this.openBody():this.closeBody()}},{key:"onOpenMenu",value:function(e){var n=this.name;r.moving=!1,r.opened=n,this.item.unbind(f),this.body.removeClass(c).addClass(this.openClass),this.onOpenEndCallback(),"function"==typeof e&&e(n)}},{key:"openMenu",value:function(e){var n=this,t=this.item;if(l.transitions.supported)t.css(this.side,0).one(f,function(){n.onOpenMenu(e)});else{var i=this.getAnimation(h,"menu");t.css("display","block").animate(i,{queue:!1,duration:this.speed,complete:function(){n.onOpenMenu(e)}})}}},{key:"onCloseMenu",value:function(e){this.item.css({left:"",right:""}).unbind(f),u("html").css("overflow-x",""),r.moving=!1,r.opened=!1,this.body.removeClass(c).removeClass(this.openClass),this.onCloseEndCallback(),"function"==typeof e&&e(name)}},{key:"closeMenu",value:function(e){var n=this,t=this.item;if(l.transitions.supported)t.css(this.side,"").one(f,function(){n.onCloseMenu(e)});else{var i=this.getAnimation(p,"menu");t.animate(i,{queue:!1,duration:this.speed,complete:function(){n.onCloseMenu()}})}}},{key:"moveMenu",value:function(e,n){this.body.addClass(c),e===h?this.openMenu(n):this.closeMenu(n)}},{key:"move",value:function(e,n){r.moving=!0,this.prepareBody(e),this.moveBody(e),this.moveMenu(e,n)}},{key:"open",value:function(e){var n=this;r.opened===this.name||r.moving||(!1===r.opened?(this.move("open",e),this.onOpenCallback()):new t(r.opened).close(function(){n.open(e)}))}},{key:"close",value:function(e){r.opened!==this.name||r.moving||(this.move("close",e),this.onCloseCallback())}},{key:"toggle",value:function(e){r.opened===this.name?this.close(e):this.open(e)}}]),t}(),y=jQuery;var v,g=jQuery,b=["open","close","toggle"],C={},k=function(t){return function(e,n){"function"==typeof e?(n=e,e="sidr"):e||(e="sidr"),function(e,n,t){var i=new m(n);switch(e){case"open":i.open(t);break;case"close":i.close(t);break;case"toggle":i.toggle(t);break;default:y.error("Method "+e+" does not exist on jQuery.sidr")}}(t,e,n)}};for(d=0;d<b.length;d++)C[v=b[d]]=k(v);function w(e){return"status"===e?r:C[e]?C[e].apply(this,Array.prototype.slice.call(arguments,1)):"function"!=typeof e&&"string"!=typeof e&&e?void g.error("Method "+e+" does not exist on jQuery.sidr"):C.toggle.apply(this,arguments)}var E=jQuery;jQuery.sidr=w,jQuery.fn.sidr=function(e){var n=l.transitions,i=E.extend({name:"sidr",speed:200,side:"left",source:null,renaming:!0,body:"body",displace:!0,timing:"ease",method:"toggle",bind:"touchstart click",onOpen:function(){},onClose:function(){},onOpenEnd:function(){},onCloseEnd:function(){}},e),o=i.name,t=E("#"+o);return 0===t.length&&(t=E("<div />").attr("id",o).appendTo(E("body"))),n.supported&&t.css(n.property,i.side+" "+i.speed/1e3+"s "+i.timing),t.addClass("sidr").addClass(i.side).data({speed:i.speed,side:i.side,body:i.body,displace:i.displace,timing:i.timing,method:i.method,onOpen:i.onOpen,onClose:i.onClose,onOpenEnd:i.onOpenEnd,onCloseEnd:i.onCloseEnd}),t=function(n,e){if("function"==typeof e.source){var t=e.source(name);n.html(t)}else if("string"==typeof e.source&&l.isUrl(e.source))E.get(e.source,function(e){n.html(e)});else if("string"==typeof e.source){var i="",o=e.source.split(",");if(E.each(o,function(e,n){i+='<div class="sidr-inner">'+E(n).html()+"</div>"}),e.renaming){var s=E("<div />").html(i);s.find("*").each(function(e,n){var t=E(n);l.addPrefixes(t)}),i=s.html()}n.html(i)}else null!==e.source&&E.error("Invalid Sidr Source");return n}(t,i),this.each(function(){var e=E(this),n=e.data("sidr"),t=!1;n||(r.moving=!1,r.opened=!1,e.data("sidr",o),e.bind(i.bind,function(e){e.preventDefault(),t||(t=!0,w(i.method,o),setTimeout(function(){t=!1},100))}))})}}();